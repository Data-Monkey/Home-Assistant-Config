---
# Travis CI configuration

language: python

python: "3.6.4"

before_install:
  - mv config/travis_secrets.yaml config/secrets.yaml
  # remove HACS as it does not work on travis ...
  #- rm config/packages/hacs.yaml

install:
  # force the currently installed HA version
  - pip3 install homeassistant==`cat config/.HA_VERSION`
  - pip install yamllint

script:
  - yamllint config
  - hass -c config/ --script check_config
